<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Headless WordPress React Frontend</title>
    
    <!-- React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Axios for HTTP requests -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <!-- CSS Framework - Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            line-height: 1.6;
            color: #333;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .post-content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 16px 0;
        }
        
        .post-content p {
            margin-bottom: 16px;
        }
        
        .post-content h1, .post-content h2, .post-content h3 {
            margin: 24px 0 16px 0;
            color: #2c3e50;
        }
        
        .codex-content {
            font-family: 'JetBrains Mono', 'Fira Code', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
        }
        
        .codex-content pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 16px;
            overflow-x: auto;
            margin: 16px 0;
        }
        
        .codex-content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .codex-content pre code {
            background: none;
            padding: 0;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <!-- Load modular components -->
    <script src="js/services/WordPressAPI.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/router.js"></script>
    <script src="js/components/UI.js"></script>
    <script src="js/components/Header.js"></script>
    <script src="js/components/PostCard.js"></script>
    <script src="js/pages/PostList.js"></script>
    <script src="js/pages/CodexList.js"></script>
    <script src="js/pages/SinglePost.js"></script>
    <script src="js/pages/SearchResults.js"></script>
    <script src="js/pages/AboutPage.js"></script>

    <script type="text/babel">
        // Initialize WordPress API
        window.wpAPI = new WordPressAPI('https://sinanisler.com');

        // Main App Component
        function App() {
            const { currentPath, params, navigate } = useRouter();

            const renderPage = () => {
                if (currentPath.startsWith('/post/')) {
                    const slug = currentPath.split('/post/')[1];
                    return React.createElement(SinglePost, { 
                        slug: slug, 
                        navigate: navigate, 
                        type: 'post' 
                    });
                }
                
                if (currentPath.startsWith('/codex/')) {
                    const slug = currentPath.split('/codex/')[1];
                    return React.createElement(SinglePost, { 
                        slug: slug, 
                        navigate: navigate, 
                        type: 'codex' 
                    });
                }

                switch (currentPath) {
                    case '/codex':
                        return React.createElement(CodexList, { 
                            navigate: navigate, 
                            params: params 
                        });
                    case '/search':
                        return React.createElement(SearchResults, { 
                            navigate: navigate, 
                            params: params 
                        });
                    case '/about':
                        return React.createElement(AboutPage);
                    case '/':
                    default:
                        return React.createElement(PostList, { 
                            navigate: navigate, 
                            params: params 
                        });
                }
            };

            return React.createElement('div', {
                className: 'min-h-screen bg-gray-50'
            }, [
                React.createElement(Header, {
                    key: 'header',
                    navigate: navigate,
                    currentPath: currentPath
                }),
                React.createElement('main', {
                    key: 'main'
                }, renderPage()),
                React.createElement('footer', {
                    key: 'footer',
                    className: 'bg-white border-t mt-16'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8'
                }, React.createElement('div', {
                    className: 'text-center text-gray-500'
                }, React.createElement('p', null, 'Â© 2024 Headless WordPress React Frontend. Powered by WordPress REST API.'))))
            ]);
        }

        // Render the app
        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>